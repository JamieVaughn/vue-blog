<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>The Good and Bad Parts of JS (according to Douglas Crockford) | yield ✴️ star</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/blog/logo.png">
    <meta name="description" content="Notes of the good and bad parts of Javascript and the parts to avoid according to Douglas Crockford's books and lectures.">
    <meta name="keywords" content="Javascript the good parts Douglas Crockford">
    
    <link rel="preload" href="/blog/assets/css/0.styles.c67855d6.css" as="style"><link rel="preload" href="/blog/assets/js/app.932232c1.js" as="script"><link rel="preload" href="/blog/assets/js/3.8550646b.js" as="script"><link rel="preload" href="/blog/assets/js/24.3189f199.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.f5860d56.js"><link rel="prefetch" href="/blog/assets/js/11.4588121a.js"><link rel="prefetch" href="/blog/assets/js/12.01c54b3d.js"><link rel="prefetch" href="/blog/assets/js/13.6a34ded9.js"><link rel="prefetch" href="/blog/assets/js/14.277f282a.js"><link rel="prefetch" href="/blog/assets/js/15.a0d2dc75.js"><link rel="prefetch" href="/blog/assets/js/16.89a94eb7.js"><link rel="prefetch" href="/blog/assets/js/17.519892bb.js"><link rel="prefetch" href="/blog/assets/js/18.3d771e11.js"><link rel="prefetch" href="/blog/assets/js/19.0433fa6b.js"><link rel="prefetch" href="/blog/assets/js/20.51a3885b.js"><link rel="prefetch" href="/blog/assets/js/21.b463ef51.js"><link rel="prefetch" href="/blog/assets/js/22.60bb997f.js"><link rel="prefetch" href="/blog/assets/js/23.b7171010.js"><link rel="prefetch" href="/blog/assets/js/25.31dbf87c.js"><link rel="prefetch" href="/blog/assets/js/26.efbd23ad.js"><link rel="prefetch" href="/blog/assets/js/27.4ec6cb07.js"><link rel="prefetch" href="/blog/assets/js/28.91247977.js"><link rel="prefetch" href="/blog/assets/js/29.52627f8e.js"><link rel="prefetch" href="/blog/assets/js/30.f513ae65.js"><link rel="prefetch" href="/blog/assets/js/31.8c8c008a.js"><link rel="prefetch" href="/blog/assets/js/32.480b652b.js"><link rel="prefetch" href="/blog/assets/js/33.4a080ab1.js"><link rel="prefetch" href="/blog/assets/js/4.1cc96e84.js"><link rel="prefetch" href="/blog/assets/js/5.b36e0487.js"><link rel="prefetch" href="/blog/assets/js/6.9dbbdcc8.js"><link rel="prefetch" href="/blog/assets/js/7.8d14461e.js"><link rel="prefetch" href="/blog/assets/js/8.0cbbb698.js"><link rel="prefetch" href="/blog/assets/js/9.33999d81.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.9f78e3e8.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.c67855d6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><script defer="defer">
  function recaptchaCallback(){
    var live = document.querySelector('#time');
    live.value = new Date();
    document.querySelector('[name=redirect_to]').value = (window || globalThis).location.href
    document.querySelector('section form input[type=submit]').removeAttribute('disabled');
  }
  function dismissJoin(e, str){
    if(str === 'success') {
      (window || globalThis).localStorage.setItem('joinedwjv', 'success')
    } else{
      return document.querySelector('#ContactMe').remove()
    }
  }
</script> <header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/logo.png" alt="yield ✴️ star" class="logo"> <span class="site-name can-hide">yield ✴️ star</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Menu</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/" class="nav-link">Home</a></li><li class="dropdown-item"><!----> <a href="/blog/posts/" class="nav-link router-link-active">Posts</a></li><li class="dropdown-item"><!----> <a href="/blog/archive/" class="nav-link">Archive</a></li><li class="dropdown-item"><!----> <a href="https://wjv.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Portfolio
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/jamievaughn/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Repo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Menu</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/" class="nav-link">Home</a></li><li class="dropdown-item"><!----> <a href="/blog/posts/" class="nav-link router-link-active">Posts</a></li><li class="dropdown-item"><!----> <a href="/blog/archive/" class="nav-link">Archive</a></li><li class="dropdown-item"><!----> <a href="https://wjv.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Portfolio
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/jamievaughn/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Repo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <!----> </div> <div class="blog" data-v-0a184ec8><section id="ContactMe" href="#ContactMe" data-v-7ae8b839 data-v-0a184ec8><form id="ajax-contact" method="post" action="https://getsimpleform.com/messages?form_api_token=8d73f78e270ace7eeda7529329d6a348" class="post" data-v-7ae8b839><input type="hidden" name="redirect_to" id="redirect" value="https://wjv.io/blog" data-v-7ae8b839> <input type="hidden" name="time" id="time" data-v-7ae8b839> <h3 data-v-7ae8b839>Join for updates by email! <span onclick="dismissJoin()" class="dismiss" data-v-7ae8b839>╳</span></h3> <div id="form-feedback" class="hidden" data-v-7ae8b839>Submitted successfully! Thank you! I'll be in touch shortly.</div> <input name="name" type="name" id="name" required="required" data-v-7ae8b839> <label for="name" class="name" data-v-7ae8b839>Your Name:</label> <input name="email" type="email" id="email" pattern=".+@+.+\.[a-z]{2,5}$" required="required" data-v-7ae8b839> <label for="email" class="email" data-v-7ae8b839>Your Email:</label> <div class="controls" data-v-7ae8b839><div data-sitekey="6Ldh-8kUAAAAAMYG8-BxodEZ4zxcn9uV8H4LKMOd" data-callback="recaptchaCallback" class="g-recaptcha" data-v-7ae8b839></div> <input type="submit" onsubmit="postMsg" onclick="dismissJoin(event, 'success')" disabled="disabled" data-v-7ae8b839></div></form> <script src="https://www.google.com/recaptcha/api.js" async="async" defer="defer" data-v-7ae8b839></script></section> <div class="blog__header" data-v-0a184ec8><p class="publish-date" data-v-0a184ec8><time datetime="2019-12-30T14:50:00.000Z" data-v-0a184ec8>December 30, 2019</time></p> <!----> <h1 class="blog__title" data-v-0a184ec8>The Good and Bad Parts of JS (according to Douglas Crockford)</h1></div> <div class="custom content__default" data-v-0a184ec8><p>Javascript, having famously been created in ten days, has some weird parts. Some of the baggage is from being around for so long and from being a creation of the ECMAScript TC39 committee. Despite all of that, it is still a great language with a lot of power and expressiveness. Douglas Crockford contends the detractors of Javascript mainly get frustrated with the language because they approach it from an Object Oriented angle instead of a Functional angle (it is based on Scheme after all, a 1970's FP language). This is by no means exhaustive, but here are some notes on What Crockford considers good (and bad) about JS:</p> <h2 id="the-good-parts"><a href="#the-good-parts" class="header-anchor">#</a> The Good Parts</h2> <h3 id="first-class-functions-or-higher-order-functions"><a href="#first-class-functions-or-higher-order-functions" class="header-anchor">#</a> First Class Functions or Higher Order Functions</h3> <p>Functions in JS can take functions as parameters and return functions as values. Javascript has always had this (that's why I list it separately), as it was an adopted feature from Scheme. This permits powerful Currying, Closure patterns and the Continuation Passing Style.</p> <h3 id="good-parts-from-es6"><a href="#good-parts-from-es6" class="header-anchor">#</a> Good Parts from ES6+</h3> <ol><li>Proper Tail Calls for Recursive Function optimization</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// The bad way: </span>
<span class="token keyword">function</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">repeat</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// Proper Tail Call way:</span>
<span class="token keyword">function</span> <span class="token function">repeat</span><span class="token punctuation">(</span><span class="token parameter">func</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">repeat</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The second example enjoys a performance boost by using less memory due to the Tail call. Proper Tail Calls (i.e. tail call optimization) is simply when the last line of your function returns the self-invoked function. The optimization is from the stack frame to remove old function stack traces and replace it with the newly invoked trace, so there isn't a memory overflow threat.</p> <ol start="2"><li>The Spread and Rest Operator <code>[...array]</code></li> <li>The Module System</li> <li><code>let</code> and <code>const</code></li> <li>Destructuring allows for easy RORO (receive object, return object) design patterns</li> <li>Improved Object looping: <code>Object.keys.forEach()</code></li> <li>WeakMap(): Works how Objects should have worked from the start with auto-garbage collection.</li> <li>Template String Literals (great for templating and breaking up regex)</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
</code></pre></div><ol start="9"><li>Arrow Functions (aka Lambdas): Great as callbacks/predicates</li> <li>The suitability towards the Functional programming style</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// The JS way to do class-free OOP using Functions:</span>
<span class="token keyword">function</span> <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">spec</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> <span class="token punctuation">{</span>member<span class="token punctuation">}</span> <span class="token operator">=</span> spec<span class="token punctuation">,</span>
        <span class="token punctuation">{</span>other<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">other_constructor</span><span class="token punctuation">(</span>spec<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function-variable function">method</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token comment">/* member, other, method, spec */</span> 
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        method<span class="token punctuation">,</span>
        other
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="the-bad-parts"><a href="#the-bad-parts" class="header-anchor">#</a> The Bad Parts</h2> <h3 id="the-old"><a href="#the-old" class="header-anchor">#</a> The Old</h3> <ol><li>The <code>new</code> keyword (error-prone, prefer the literal syntax)</li> <li>Object.create (prefer literal syntax or Object.assign({}, source) to avoid pass by reference errors)</li> <li>The <code>this</code> keyword (error prone due to unintuitive value adoption)</li> <li>label breaks</li> <li>prototypes, prototypal inheritance (error prone due to confusion from Own vs. Inherited properties)</li></ol> <blockquote><p>Note from the author: I disagree with Crockford on this point, I found prototypal inheritance to be much more intuitive than classical inheritance</p></blockquote> <ol start="6"><li><code>null</code> (There should only be <code>undefined</code> or <code>null</code>, not both. Since <code>null</code> regrettably returns typeof as <code>object</code>, it ought to be the one removed)</li> <li>falsiness (Coercion in general due to unexpected values, but falsiness in particular trips up control flow quite often with values like <code>''</code> and <code>0</code>)</li> <li><code>for</code> loops and <code>for...in</code> loops (prefer the `.forEach() syntax)</li> <li><code>while</code> loops (prefer recursive functions with tail calls)</li></ol> <h3 id="bad-parts-from-es6"><a href="#bad-parts-from-es6" class="header-anchor">#</a> Bad Parts from ES6+</h3> <h4 id="classes"><a href="#classes" class="header-anchor">#</a> Classes</h4> <p>This is only syntactic sugar over functions anyways and it does not change the prototypal inheritance model to the classical inheritance model, so it threatens to mislead OOP programmers about how properties are truly being inherited.</p> <h4 id="generators"><a href="#generators" class="header-anchor">#</a> Generators</h4> <p>Crockford does not like these because he claims they are inherently &quot;stateful&quot; and cannot be pure functions (i.e. functions without side effects). Crockford feels that unaccounted for &quot;statefulness&quot; accounts for a large number of bugs/errors and so he prefers using pure functions whenever possible, and so dismisses generators since they are inherently impure.</p> <blockquote><p>Note from the author: I somewhat disagree with Crockford's thoughts on this one: While generators <em>CAN</em> be stateful, they certainly do not have to be. It depends on how you author it. I do agree that generators cannot really be pure functions, but that is ok since they can serve as wrappers to other pure functions, which provide a nice Iterable interface for those pure functions. And having the control of an Iterator by default is a powerful interface for dealing with returned values.</p></blockquote> <p>Overall I feel that I am in agreement with Crockford's opinions about which parts of Javascript to lean on and which parts to avoid. In particular, Javascript's origins from the Scheme language mean it is best used in the functional styleso it can take advantage of higher order functions, currying, closures, and recursion. And in general I agree about avoiding OOP patterns. Although, there is no need for fanatical avoidance of OOP, both FP and OOP can be used together to great effect.</p> <p>I mentioned the two places already where I disgree with Crockford on his thoughts here: Prototypes and Generators. I think both of these language features actually have tremendous strengths. This is largely due to lessons I've absorbed from another great JS teacher, Kyle Simpson. I will have a similar notes-dump post about <em>his</em> thoughts in the future.</p></div> <div class="page-edit" data-v-0a184ec8><!----> <!----></div> <!----> </div> <!----></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.932232c1.js" defer></script><script src="/blog/assets/js/3.8550646b.js" defer></script><script src="/blog/assets/js/24.3189f199.js" defer></script>
  </body>
</html>
