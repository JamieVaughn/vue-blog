(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{391:function(e,t,o){"use strict";o.r(t);var a=o(41),i=Object(a.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[e._v("Sandi Metz delivered a fantastic "),o("a",{attrs:{href:"https://www.youtube.com/watch?v=OMPfEXIlTVE",target:"_blank",rel:"noopener noreferrer"}},[e._v("conference talk"),o("OutboundLink")],1),e._v(' about Composition called "Nothing is Something." This article is a summary of what I learned from this talk.')]),e._v(" "),o("h2",{attrs:{id:"favor-composition-over-inheritance"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#favor-composition-over-inheritance"}},[e._v("#")]),e._v(" Favor Composition Over Inheritance")]),e._v(" "),o("p",[e._v("Inheritance is for specialization, which is needed far less than one might assume. Composition provides a way to create units of pluggable behavior. While inheritance sets out to make code reusable, it actually often leads to code duplication if used for things it is not intended. And there are very few instances where inheritance is actually the correct tool for the job. Composiiton ends up being a better tool for the job more often. It lets us avoid code duplication and couple two or more behaviors together in any permutation without code duplication.")]),e._v(" "),o("p",[e._v("Inheritance often fails to provide a similar behavior because if any inherited method is not needed by the child or needs to be overwritten for the child's use case, then the benefit of the inheritance is lost. In order to to ensure that there are never unnecessary properties or methods inherited by the child, one could reduce parent classes down to a single property or method. But this either requires multiple inheritance (which not all languages support) or requires writing extra code in the child that is not represented in the parent you chose to inherit from. That extra code may even be in another class, that is simply unable to shared now because of the constraints of inheritance.")]),e._v(" "),o("p",[e._v("Composition uses functions that can be passed and invoked anywhere without the constraints of inheriting classes. This means that functions can essentially be used like multiple inheritance would be by default.")]),e._v(" "),o("h2",{attrs:{id:"finding-the-composable-algorithm"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#finding-the-composable-algorithm"}},[e._v("#")]),e._v(" Finding the Composable Algorithm")]),e._v(" "),o("p",[e._v("Composition can be tricky at first because some behaviors are not obviously expressed as an algorithm at first glance. But when you have the urge to use inheritance because you think the new thing needs to specialize, then most of the time, the thing you are specializing on is simply a different behavior of what the parent object behavior is. So that's a clue that maybe Composition can be used there. The parent object behavior is still an algorithm, it just needs to be extracted out into the form of a function. Sometimes the algorithm (in the FP paradigm: a callback) is one that does nothing, but that is still something: it is a no-op function... a function that is just returning some chunk of unmodified state or some type of empty value.")]),e._v(" "),o("p",[e._v("Here are a set of steps to help you identify the role/behavior that is at work:")]),e._v(" "),o("ol",[o("li",[e._v('Figure out what is varying (what are the algorithms of each behavior actually doing, even if it is "nothing")')]),e._v(" "),o("li",[e._v("Name that role, behavior or trait (i.e. 'order', 'repeatNTimes', 'format', 'randomize')")]),e._v(" "),o("li",[e._v("Define that role (make API's for it that can be plugged into anywhere)")]),e._v(" "),o("li",[e._v("Inject the executor")])]),e._v(" "),o("blockquote",[o("p",[e._v("Order is not a House, Order is a role.")])]),e._v(" "),o("p",[o("strong",[e._v("Sandi Metz")])]),e._v(" "),o("p",[o("img",{attrs:{src:"/blog/composition.png",alt:"Nothing is Something!"}})]),e._v(" "),o("p",[e._v('In the example in the talk from which the above table is reprinted, there is a different sorting algorithm for the phrases in the House Class. Instead of inheriting different orders of the phrases, simply instantiate the phrase and inject different sorting algorithms to re-order the phrases. For the House that needs the phrases in the starting order, simply inject a no-op function as the sorting algorithm: thus "Nothing is Something"... a No-op function is the Algorithm needed for that case.')]),e._v(" "),o("h2",{attrs:{id:"oop"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#oop"}},[e._v("#")]),e._v(" OOP")]),e._v(" "),o("p",[e._v("Inheritance is often presented as an essential part of Object Oriented Programming. But this talk claims that Composition paired with Dependency Injection is also Object Oriented Design. Object Oriented Composition is injecting an object (or function) with a behavior (algorithm) to play the role of the thing that you want to vary. This is a more flexible and less error-prone compared to inheriting the algorithm you want to vary.")]),e._v(" "),o("p",[e._v('The Composition and behavior injection approach is actually more true to what Alan Kay meant when he coined the term "Object Oriented Programming."')]),e._v(" "),o("blockquote",[o("p",[e._v("OOP to me means only messaging, local retention and protection and hiding of state-process, and extreme late-binding of all things.")])]),e._v(" "),o("blockquote",[o("p",[e._v('...the very first problems I solved with my early Utah stuff was the "disappearing of data" using only methods and objects. At the end of the 60s (I think) Bob Balzer wrote a pretty nifty paper called "Dataless Programming", and shortly thereafter John Reynolds wrote an equally nifty paper "Gedanken" (in 1970 I think) in which he showed that using the lamda expressions the right way would allow data to be abstracted by procedures.')])]),e._v(" "),o("blockquote",[o("p",[e._v("The people who liked objects as non-data were smaller in number, and included myself, Carl Hewitt, Dave Reed and a few others -- pretty much all of this group were from the ARPA community and were involved in one way or another with the design of ARPAnet â†’ Internet in which the basic unit of computation was a whole computer.")])]),e._v(" "),o("p",[e._v("...")]),e._v(" "),o("blockquote",[o("p",[e._v('I was too blythe about the term back in the 60s and should have chosen something like "message oriented"')])]),e._v(" "),o("p",[o("strong",[e._v("Alan Kay")]),e._v(" ("),o("a",{attrs:{href:"https://softwareengineering.stackexchange.com/questions/46592/so-what-did-alan-kay-really-mean-by-the-term-object-oriented",target:"_blank",rel:"noopener noreferrer"}},[e._v("source"),o("OutboundLink")],1),e._v(")")]),e._v(" "),o("p",[e._v("What he meant was something actually a bit closer to Functional Programming it seems, where messages are passed between objects to trigger behaviors. And Composition extends this to pass around algorithms as messages for the objects to execute as their behaviors.")]),e._v(" "),o("h2",{attrs:{id:"final-take-aways"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#final-take-aways"}},[e._v("#")]),e._v(" Final Take Aways")]),e._v(" "),o("p",[e._v("The Composition strategy is especially helpful with the Null Object Pattern. It can potentially allow us to stop checking for and handling "),o("code",[e._v("null")]),e._v(" in all our functions. Instead, we can use an object to stand in for "),o("code",[e._v("null")]),e._v(' and use those "active nothings."')]),e._v(" "),o("p",[e._v("Beware of inheritance. Inheritance is NOT for sharing behaviors. It's for specialization.\nThere is no such thing as ONE specialization. Define the role instead\nRemember that Nothing is Something. In every program there are things that manifest as the absence of an algorithm or code, so represent it by the thing that manifests nothing: the no-op function. The no-op is analagous to the Zero in the number system, and just as important because it keeps the object messaging API surface consistent even for otherwise inconsistent behaviors.")])])}),[],!1,null,null,null);t.default=i.exports}}]);